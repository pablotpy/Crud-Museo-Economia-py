<div *ngIf="records.length > 0; else noRecords" class="table-responsive mt-4">
    <table class="table table-striped table-hover table-bordered">
      <thead class="table-dark">
        <tr>
          <th scope="col">#</th>
          <th scope="col">CI</th>
          <th scope="col">Nombre Completo</th>
          <th scope="col">Pa√≠s</th>
          <th scope="col">Entrada</th>
          <th scope="col">Tipo Visita</th>
          <th scope="col">Notas</th>
          <th scope="col">Acciones</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let record of records; let i = index">
          <th scope="row">{{ i + 1 }}</th>
          <td>{{ record.visitor?.ci_number || record.ci_number }}</td>
          <td>{{ record.visitor?.first_name || record.first_name }} {{ record.visitor?.last_name || record.last_name }}</td>
          <td>{{ record.visitor?.country || record.country }}</td>
          <td>{{ record.entry_timestamp | date:'dd/MM/yyyy HH:mm' }}</td>
          <td>{{ record.visit_type }}</td>
          <td>{{ record.notes | slice:0:30 }}{{ (record.notes && record.notes.length > 30) ? '...' : '' }}</td>
          <td>
            <button class="btn btn-sm btn-outline-primary me-2" (click)="onEdit(record)" title="Editar">
              <i class="bi bi-pencil-square"></i> Editar </button>
            <button class="btn btn-sm btn-outline-danger" (click)="onDelete(record.id)" title="Eliminar">
              <i class="bi bi-trash"></i> Eliminar </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
  
  <ng-template #noRecords>
    <div class="alert alert-info mt-4" role="alert">
      No hay registros de asistencia para mostrar. Comience agregando uno nuevo.
    </div>
  </ng-template>